<app-spinner></app-spinner>
<div mat-dialog-content>
    <form #formularioCliente="ngForm" (ngSubmit)="formularioEnviado()">
        <label for="codigo">Codigo
            <input [disabled]="codigodisabled" type="text" name="codigo" 
            (blur)="buscarcliente()"
            id="codigo" size="12" [(ngModel)]="numcli_z">
        </label>

        <div name="datoscliente">
            <label *ngIf="!canledisabled" for="enganche">Enganche
                <input type="number" name="enganche" id="enganche" size="10" 
                (blur)="calcu_precio_lista()" [(ngModel)]="nvocli.enganche">
            </label>
    
            <mat-card>
                    <mat-card-title>Nombre del Cliente</mat-card-title>
                    <mat-form-field>
                        <input matInput placeholder="Apellido Paterno" type="text" name="appat" id="appat" [(ngModel)]="nvocli.appat" 
                        oninput="this.value = this.value.toUpperCase()">
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput placeholder="Apellido Materno" type="text" name="apmat" id="apmat" [(ngModel)]="nvocli.apmat" 
                        oninput="this.value = this.value.toUpperCase()">
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput placeholder="Nombre 1" type="text" name="nombre1" id="nombre1" [(ngModel)]="nvocli.nompil1"
                        oninput="this.value = this.value.toUpperCase()" >
                    </mat-form-field>
                    <mat-form-field>
                        <input matInput placeholder="Nombre 2" type="text" name="nombre2" id="nombre2" [(ngModel)]="nvocli.nompil2"
                        oninput="this.value = this.value.toUpperCase()" >
                    </mat-form-field>
            </mat-card>
            <mat-card>
                <mat-card-title>Direccion del Cliente</mat-card-title>
                <mat-form-field>
                    <input matInput placeholder="Calle y Cruzamientos" type="text" name="calle" id="calle" [(ngModel)]="nvocli.calle"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Número de Predio" type="text" name="predio" id="predio" [(ngModel)]="nvocli.numpred"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Colonia" type="text" name="colonia" id="colonia" [(ngModel)]="nvocli.colonia" 
                    oninput="this.value = this.value.toUpperCase()">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Código Postal" type="text" name="codpost" id="codpost" [(ngModel)]="nvocli.codpost"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <mat-select  name="regimen" placeholder="Población" [(ngModel)]="nvocli.poblac">
                        <mat-option *ngFor="let mipoblacs of poblaciones" 
                        value="{{mipoblacs.ciudad}} "
                        selected="nvocli.poblac == mipoblacs.ciudad" >
                        {{mipoblacs.ciudad}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Email Cliente" type="text" name="emailcli" id="emailcli" [(ngModel)]="nvocli.email" >
                </mat-form-field>
            </mat-card>
            <mat-card *ngIf="conaval" >
                <mat-card-title>Datos del Aval</mat-card-title>
                <mat-form-field>
                    <input placeholder="Apellido Paterno" type="text" name="appataval" id="appataval" [(ngModel)]="nvoaval.appat" 
                    oninput="this.value = this.value.toUpperCase()">
                </mat-form-field>
                <mat-form-field>
                    <input placeholder="Apellido Marterno" type="text" name="apmataval" id="apmataval" [(ngModel)]="nvoaval.apmat" 
                    oninput="this.value = this.value.toUpperCase()">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Nombre 1" type="text" name="nombre1aval" id="nombre1aval" [(ngModel)]="nvoaval.nompil1"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Nombre 2" type="text" name="nombre2aval" id="nombre2aval" [(ngModel)]="nvoaval.nompil2"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Dirección 1" type="text" name="dir1aval" id="dir1aval" [(ngModel)]="nvoaval.dirav1"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Dirección 2" type="text" name="dir2aval" id="dir2aval" [(ngModel)]="nvoaval.dirav2"
                    oninput="this.value = this.value.toUpperCase()" >
                </mat-form-field>
            </mat-card>
            <mat-card>
                <mat-form-field>
                    <mat-select placeholder="Promotor" name="jefgpo" id="jefgpo" value="{{nvocli.promotor}}" 
                     [(ngModel)]= "nvocli.promotor" >
                    <mat-option *ngFor="let mipromo of promotor" value="{{mipromo.cvepromo}}"
                      selected="nvocli.promotor == mipromo.cvepromo">
                      {{mipromo.cvepromo}} {{mipromo.nombre}}
                    </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Comisión Promotor" type="number" name="comjef" id="comjef" [(ngModel)]="nvocli.comisionprom">
                </mat-form-field>
                <mat-form-field>
                    <input matInput placeholder="Fecha Pago Comisión" type="text" name="fpagcom" id="fpagcom" [(ngModel)]="nvocli.pgocom" >
                </mat-form-field>
            </mat-card>
    
        </div>    
    </form>
    </div>
    <div mat-dialog-actions>
        <div  style="display: flex; justify-content: flex-end;">
        <button mat-raised-button  style="margin-right: 5px;" color="warn" (click)="closeno()">Cancelar</button>
        <button mat-raised-button  color="primary"   (click)="closeyes()">Aceptar</button>
    </div>
    </div>
    
