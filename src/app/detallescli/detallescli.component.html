<div>
    <label for="codigo">
        Codigo
        <input type="text" size="15" name="codigo" [(ngModel)]="codcli_z">
       
    </label>
    <button mat-raised-button color="primary" (click)="buscarcliente()" >Aceptar</button>
             
    <button mat-raised-button color="primary" (click)="busqueda_por_nombre()">
        <mat-icon aria-hidden="false" aria-label="Example home icon">search</mat-icon>
        Buscar por Nombre
    </button>
</div>
<div *ngIf="cliente">

<table border="1">
    <tr>
        <td>
            <label class="ancho80" for="codigo">Co√≥digo</label>
            <input readonly  name="codigo" size="12" type="text" value=" {{cliente.numcli}}"> <br>
            <button mat-raised-button color="primary" (click)="impresion_edocta()">
                <mat-icon aria-hidden="false" aria-label="Example home icon">print</mat-icon>
                Estado Cuenta
            </button>
                    
            <br>
            <label class="ancho80" for="nombre">Nombre</label>
            <input readonly  name="nombre" size="40" type="text" value=" {{cliente.nombre}}"> <br>
            <label class="ancho80" for="direccion">Direccion</label>
            <input readonly name="direccion" type="text" size="40" value= "{{cliente.direc}}"><br>
            <label class="ancho80" for="poblacion">Poblacion</label>
            <input readonly name="poblacion" type="text" size="40" value= "{{cliente.poblac}}"> <br>
            <div id="aval" *ngIf="cliente.qom != tipocontado_z ">
                <label class="ancho80"  for="aval">Aval </label>
                <input readonly name="aval" type="text" size="40" value= "{{nomaval}}"> <br>
                 <label class="ancho80" for="diraval">Direccion</label>
                 <input readonly name="diraval" type="text" size="40" value= "{{diraval}}"> 
            </div>
        </td>
        <td>
            <label for="promotor" class="ancho80" >Promotor</label>
            <input readonly name="pomotor" type="text" size="4" value= "{{cliente.promotor}}" >
            <label for="ubicacion"> Ubicacion </label>
            <input readonly name="ubicacion" type="text" size="4" value= "{{cliente.ubica}}">
            <label for="opcion">Carta </label>
            <input readonly name="opcion" type="text" size="4" value= " {{cliente.opcion}} "><br>
            <label for="preciocon" class="ancho80" >Precio Lista</label>
            <input readonly name="preciocon" type="text" size="10" value= "{{ cliente.preciolista | currency }}">
            <label for="servicio">Servicio</label>
            <input readonly name="servicio" type="text" size="10" value= "{{ cliente.servicio | currency }}">
            <label for="enganche">Enganche</label>
            <input readonly name="enganche" type="text" size="10" value= "{{ cliente.enganche | currency }}"> <br>
            <label for="letras" class="ancho80" >Letras</label>
            <input readonly name="leras" type="text" size="3" value= "{{ cliente.nulet  }}">
            <label for="qom">Q/M/C</label>
            <input readonly name="qom" type="text" size="3" value= "{{ cliente.qom }}">
            <label for="canle">Precio x Letra</label>
            <input readonly name="canle" type="text" size="10" value= "{{ cliente.canle | currency }}"> 
            <label for="bonif">Bonificacion</label>
            <input readonly name="bonif" type="text" size="10" value= "{{ cliente.bonificacion | currency }}"><br>
        </td>
        <td>
            Vencimientos:<br>
            <div class="boxscroll">

                <ul>
                    <li for="" *ngFor="let mivencimiento of listavencimientos_z" >
                        Letra: {{mivencimiento.letra}}/{{cliente.nulet}}
                        Vence: {{mivencimiento.vence}}
                    </li>

                </ul>

            </div>

        </td>
    </tr>
    <tr>
        <td colspan="3">
            <label for="cargos">Cargos</label>
            <input readonly name="cargos" type="text" size="10" value= "{{ cliente.cargos | currency }}">
            <label for="abonos">Abonos</label>
            <input readonly name="abonos" type="text" size="10" value= "{{ cliente.abonos | currency }}"> 
            <label for="saldo"> Saldo</label>
            <input readonly name="saldo" type="text" size="10" value= "{{ cliente.cargos - cliente.abonos | currency }}"> 
        </td>
    </tr>
    <tr>
        <td colspan="3">
            <label for="compra">Compra</label>
            <input readonly name="compra" type="text" size="80" value= "{{compracli_z}}"> 
        </td>
    </tr>
</table>
    <div id="movimientos">
        <mat-tab-group>
            <mat-tab label="Movimientos">
                <table border="1">
                    <tr>
                        <th>Fecha</th>
                        <th>Concepto</th>
                        <th>Usr</th>
                        <th>Poliza</th>
                        <th>Prm</th>
                        <th>Tipo</th>
                        <th align="right">Recargos</th>
                        <th align="right">Bonificacion</th>
                        <th align="right">Importe</th>
                        <th align="right">Saldo</th>
                    </tr>
                    <tr *ngFor="let mimov of mismovclis" >
                        <td> {{mimov.fechamov}} </td>
                        <td> {{mimov.concep}} </td>
                        <td> {{mimov.usuario}} </td>
                        <td> {{mimov.poliza}} </td>
                        <td> {{mimov.oper}} </td>
                        <td> {{mimov.tipag}} </td>
                        <td  align="right"> 
                            <label for="" *ngIf="mimov.recargo > 0">{{mimov.recargo | currency}}</label> 
                        </td>
                        <td  align="right"> 
                            <label for="" *ngIf="mimov.bonificacion> 0">{{mimov.bonificacion | currency}}</label> 
                        </td>
                        <td  align="right"> {{mimov.importe | currency}} </td>
                        <td  align="right"> {{mimov.saldo | currency}} </td>
                    </tr>
                </table>   
        
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span (click)="busca_observcli(cliente.idcli)">Observaciones</span>
                </ng-template>
                <table border=1 class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>Fecha</th>
                        <th>Observaciones</th>
                    </tr>
                    <tr *ngFor="let miobs of observs" >
                        <td> {{miobs.fecha}} </td>
                        <td> {{miobs.observ}} </td>
                    </tr>
                </table>   
            </mat-tab>
            <mat-tab>
                <ng-template mat-tab-label>
                    <span (click)="busca_plazos(cliente.idcli)">Plazos</span>
                </ng-template>
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <th>Fecha</th>
                        <th>Vence</th>
                        <th>Promo</th>
                        <th>Observaciones</th>
                    </tr>
                    <tr *ngFor="let miplazo of plazos" >
                        <td> {{miplazo.fecha}} </td>
                        <td> {{miplazo.vence}} </td>
                        <td> {{miplazo.cvepromo}} </td>
                        <td> {{miplazo.observ}} </td>
                    </tr>
                </table>   
            </mat-tab>
            <mat-tab label="Reportes Servicio">
                <p>Estos son los reportes de Servicio</p>
            </mat-tab>
            <mat-tab label="Datos Solicitud">
                <ng-template mat-tab-label>
                    <span (click)="busca_solicitud(cliente.idcli)">Datos Solicitud</span>
                </ng-template>
                <div *ngIf="solicitud" >
                <table class="table table-striped table-bordered table-hover">
                    <tr>
                        <td>Ocupacion <b> {{solicitud.ocupacion}} </b> 
                            Ingresos <b> {{solicitud.ingresos | currency}} </b> </td>
                        <td> 
                            Sexo  <b> {{solicitud.sexo}} </b>
                            edad <b> {{solicitud.edad}} </b>
                            Estado Civil <b> {{solicitud.estadocivil}} </b>

                        </td>
                    </tr>
                    <tr>
                        <td> Trabajo <b> {{solicitud.trabajo}}  </b></td>
                        <td> Telefono <b> {{solicitud.telefono}}  </b></td>
                    </tr>
                    <tr>
                        <td> Direccion Trabajo <b> {{solicitud.direcciontrabajo}}  </b></td>
                        <td> Antguedad <b> {{solicitud.antiguedad}}  </b> </td>
                    </tr>
                    <tr>
                        <td> Conyuge <b>{{solicitud.conyuge}} </b> </td>
                        <td> Ocupacion <b> {{solicitud.ocupacionconyuge}}  </b>
                             Ingresos <b> {{ solicitud.ingresosconyuge | currency }}  </b>

                        </td>
                    </tr>
                    <tr>
                        <td> Trabajo Conyuge <b> {{solicitud.trabajoconyuge}}  </b>
                            Antiguedad <b> {{solicitud.antiguedadconyuge}} </b> </td>
                        <td> Telefono <b> {{solicitud.telefonoconyuge}} </b> </td>
                    </tr>
                    <tr>
                        <td> Aval <b> {{solicitud.aval}} </b></td>
                        <td> Ocupacion <b> {{solicitud.ocupacionaval}}  </b>
                            Ingresos <b> {{ solicitud.ingresosconyuge | currency }} </b>

                        </td>
                    </tr>
                    <tr>
                        <td> Trabajo Aval <b> {{solicitud.trabajoaval}} </b>
                            Antiguedad <b> {{solicitud.antiguedadaval}} </b> </td>
                        <td> Telefono <b> {{solicitud.telefonoaval}} </b> </td>
                    </tr>
                    <tr>
                        <td> Conyuge Aval <b> {{solicitud.conyugeaval}} </b></td>
                        <td> Ocupacion <b> {{solicitud.ocupacionconyugeaval}}  </b>
                           Ingresos <b> {{ solicitud.ingresosconyugeaval | currency }} </b>
                        </td>
                    </tr>
                    <tr>
                        <td> Trabajo Aval <b> {{solicitud.trabajoconyugeaval}} </b>
                            Antiguedad <b> {{solicitud.antiguedadconyugeaval}} </b> </td>
                        <td> Telefono <b> {{solicitud.telconyugeaval}} </b> </td>
                    </tr>
                    <tr>
                        <td>Familiar <b> {{solicitud.familiar}} </b> </td>
                        <td>Direccion <b> {{solicitud.direccionfamiliar}} </b> </td>
                    </tr>
                    <tr>
                        <td>Conocido <b> {{solicitud.conocido}} </b> </td>
                        <td>Direccion <b> {{solicitud.direccionconocido}} </b> </td>
                    </tr>
                    <tr>
                        <td colspan="2">Referencia 1  <b> {{solicitud.referencia1}} </b> </td>
                    </tr>
                    <tr>
                        <td colspan="2">Referencia 2 <b> {{solicitud.referencia2}} </b> </td>
                    </tr>
                    <tr>
                        <td colspan="2">Observaciones <b> {{solicitud.observaciones}} </b> </td>
                    </tr>

                </table>
            </div>
            </mat-tab>
            <mat-tab label="Comisiones Vendedores">
                <p>Estos son los reportes de Servicio</p>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>
